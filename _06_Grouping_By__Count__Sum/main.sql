
CREATE TABLE MEAL (
  NAME VARCHAR(255),
  PRICE DOUBLE, 
  CALORIES INT
);

CREATE TABLE INGREDIENT (
  NAME VARCHAR(255),
  CONTAINS_LACTOSE BOOLEAN,
  VEGETARIAN BOOLEAN,
  VEGAN BOOLEAN,
  GLUTEN_FREE BOOLEAN,
  PRICE DOUBLE
);

INSERT INTO INGREDIENT(NAME, CONTAINS_LACTOSE ,VEGETARIAN, VEGAN, GLUTEN_FREE, PRICE)
VALUES("EGGS", FALSE, TRUE, FALSE, TRUE, 1.50);

INSERT INTO INGREDIENT(NAME, CONTAINS_LACTOSE ,VEGETARIAN, VEGAN, GLUTEN_FREE, PRICE)
VALUES("BREAD", FALSE, TRUE, TRUE, FALSE, 3.20);

INSERT INTO INGREDIENT(NAME, CONTAINS_LACTOSE ,VEGETARIAN, VEGAN, GLUTEN_FREE, PRICE)
VALUES("BEEF PATTY", FALSE, FALSE, FALSE, TRUE, 5.00);

INSERT INTO INGREDIENT(NAME, CONTAINS_LACTOSE ,VEGETARIAN, VEGAN, GLUTEN_FREE, PRICE)
VALUES("LETTUCE", FALSE, TRUE, TRUE, TRUE, 0.99);

INSERT INTO INGREDIENT(NAME, CONTAINS_LACTOSE ,VEGETARIAN, VEGAN, GLUTEN_FREE, PRICE)
VALUES("YOGHURT", TRUE, TRUE, FALSE, TRUE, 1.29);

INSERT INTO MEAL(NAME, PRICE, CALORIES)
VALUES ('Spaghetti Bolognese', 12.99, 600),
('Grilled Chicken Sandwich', 8.99, 400),
('Pesto Pasta', 10.99, 550),
('Steak and Mash', 19.99, 800),
('Sushi Platter', 15.99, 700);

CREATE TABLE MEAL_ORDER (
  TIME_MEAL_ORDERED TIMESTAMP DEFAULT NOW(),
  MEAL_NAME VARCHAR(255),
  PRICE DOUBLE
);
  
    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME, PRICE) 
    VALUES (NOW(), 'Spaghetti Bolognese', 12.99);

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME, PRICE) 
    VALUES (DATE_ADD(NOW(), INTERVAL 1 HOUR), 'Grilled Chicken Sandwich', 8.99);

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME, PRICE) 
    VALUES (DATE_ADD(NOW(), INTERVAL 2 HOUR), 'Pesto Pasta', 10.99);

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME, PRICE) 
    VALUES (DATE_ADD(NOW(), INTERVAL 3 HOUR), 'Pesto Pasta', 10.99);

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME, PRICE) 
    VALUES (DATE_ADD(NOW(), INTERVAL 4 HOUR), 'Grilled Chicken Sandwich', 8.99);

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME, PRICE) 
    VALUES (DATE_ADD(NOW(), INTERVAL 5 HOUR), 'Pesto Pasta', 10.99);

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME, PRICE) 
    VALUES (DATE_ADD(NOW(), INTERVAL 6 HOUR), 'Spaghetti Bolognese', 12.99);

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME, PRICE) 
    VALUES (DATE_ADD(NOW(), INTERVAL 7 HOUR), 'Pesto Pasta', 10.99);

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME, PRICE) 
    VALUES (DATE_ADD(NOW(), INTERVAL 8 HOUR), 'Pesto Pasta', 10.99);

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME, PRICE) 
    VALUES (DATE_ADD(NOW(), INTERVAL 9 HOUR), 'Spaghetti Bolognese', 12.99);




SELECT MEAL_NAME, 
COUNT(*) AS TIMES_MEAL_ORDERED FROM MEAL_ORDER
GROUP BY MEAL_NAME;

SELECT SUM(PRICE) AS GREATER_THAN_15_MEAL_PRICE_SUM FROM MEAL_ORDER
WHERE PRICE > 15;

SELECT CALORIES, COUNT(*) AS GREATER_THAN_500_CALORIES_MEAL
FROM MEAL
WHERE CALORIES > 500
GROUP BY CALORIES;

SELECT SUM(PRICE) FROM MEAL
WHERE NAME LIKE "%s%";
 

SELECT MEAL_NAME, COUNT(*) AS ORDERS_FOR_EACH_MEAL 
FROM MEAL_ORDER
WHERE TIME_MEAL_ORDERED < '2023-06-26 23:00:00'
GROUP BY MEAL_NAME;
